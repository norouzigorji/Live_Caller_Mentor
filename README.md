# 🤖 دستیار صوتی هوشمند آوا (پروژه نمونه با Gemini)

این پروژه یک نمونه کامل از یک **دستیار صوتی هوشمند به نام "آوا"** است که به زبان فارسی و در محیط وب عمل می‌کند. آوا می‌تواند به عنوان یک منشی تلفنی یا پشتیبان اولیه مشتریان، به سوالات آن‌ها در مورد محصولات و خدمات پاسخ دهد.

این پروژه برای نمایش قدرت ترکیب دو تکنولوژی کلیدی ساخته شده است:
1.  **Google Gemini API**: برای منطق مکالمه (`gemini-2.5-flash`) و تولید صدای طبیعی و باکیفیت (Text-to-Speech).
2.  **Web Speech API**: برای تشخیص گفتار کاربر (Speech-to-Text) به صورت زنده در مرورگر.

---

## ✨ ویژگی‌های کلیدی

* **مکالمه کاملاً صوتی**: کاربر صحبت می‌کند و پاسخ را به صورت صوتی می‌شنود.
* **پشتیبانی کامل از زبان فارسی**: هم در تشخیص گفتار و هم در پاسخ‌دهی.
* **پاسخگویی مبتنی بر دانش**: دستیار از اطلاعاتی که به آن داده‌اید (محصولات، سوالات متداول) برای پاسخ استفاده می‌کند.
* **صدای طبیعی و باکیفیت**: به لطف مدل TTS پیشرفته گوگل.
* **پیاده‌سازی سمت کاربر (Client-Side)**: تمام منطق در مرورگر کاربر اجرا می‌شود و نیازی به سرور پیچیده ندارد.
* **قابل توسعه و شخصی‌سازی**: به راحتی می‌توانید شخصیت، دانش و صدای دستیار را تغییر دهید.

---

## 🚀 راه‌اندازی و اجرا

برای اجرای این پروژه به صورت محلی، مراحل زیر را دنبال کنید.

**پیش‌نیازها:**
* نصب بودن [Node.js](https://nodejs.org/) روی سیستم شما.
* دریافت یک **API Key** از [Google AI Studio](https://aistudio.google.com/app/apikey).

**مراحل نصب:**

۱. **نصب پکیج‌های مورد نیاز:**
   دستور زیر را در ترمینال اجرا کنید:
   ```bash
   npm install
   ```

۲. **ایجاد فایل متغیرهای محیطی:**
   یک فایل با نام `.env.local` در ریشه پروژه بسازید و کلید API خود را در آن قرار دهید:
   ```
   API_KEY="KLID_API_SHOMA_DAR_INJA"
   ```
   **توجه:** به جای `KLID_API_SHOMA_DAR_INJA` کلید واقعی خود را قرار دهید.

۳. **اجرای پروژه:**
   با دستور زیر، سرور توسعه محلی را اجرا کنید:
   ```bash
   npm run dev
   ```
اکنون می‌توانید پروژه را در آدرس `http://localhost:3000` (یا پورت مشابه) در مرورگر خود مشاهده کنید.

---

## 🔧 شخصی‌سازی دستیار صوتی

شما می‌توانید تمام جنبه‌های دستیار صوتی "آوا" را از طریق فایل `index.tsx` شخصی‌سازی کنید.

### ۱. تغییر دانش دستیار

دانش اصلی دستیار در دو متغیر در بالای فایل تعریف شده است:

* **`PRODUCTS_JSON`**: لیستی از محصولات شرکت با فرمت JSON. می‌توانید محصولات خود را با همان ساختار اضافه یا ویرایش کنید.
    ```typescript
    const PRODUCTS_JSON = JSON.stringify([
      {"id": "p1", "name": "محصول جدید شما", "price": "۱۰٬۰۰۰ تومان", "features": ["ویژگی اول", "ویژگی دوم"]},
      // ... سایر محصولات
    ]);
    ```

* **`FAQ_DOC`**: مجموعه‌ای از سوالات متداول و پاسخ‌های آن‌ها. می‌توانید سوالات و پاسخ‌های مرتبط با کسب‌وکار خود را در این بخش وارد کنید.
    ```typescript
    const FAQ_DOC = `
    سوال: سوال جدید شما؟
    پاسخ: پاسخ جدید شما برای این سوال.

    سوال: سوال دیگر؟
    پاسخ: پاسخی دیگر.
    `;
    ```

### ۲. تغییر شخصیت و دستورالعمل‌ها

شخصیت، نام و نحوه رفتار دستیار در متغیر **`SYSTEM_INSTRUCTION`** تعریف می‌شود. این بخش مهم‌ترین قسمت برای شخصی‌سازی است.

```typescript
const SYSTEM_INSTRUCTION = `شما یک دستیار فروش حرفه‌ای به نام "نوا" هستید. وظیفه شما کمک به کاربران برای انتخاب بهترین محصول است.

از اطلاعات زیر برای پاسخ به سوالات مشتریان استفاده کنید:
// ... (اطلاعات محصولات و FAQ در اینجا قرار می‌گیرند)

دستورالعمل‌های کلیدی:
- همیشه با انرژی و دوستانه صحبت کن.
- در ابتدای مکالمه بگو: "سلام، نوا هستم! آماده‌ام تا در خرید به شما کمک کنم."
// ... سایر دستورالعمل‌ها
`;
```

### ۳. تغییر مدل هوش مصنوعی و صدا

شما می‌توانید مدل‌های مورد استفاده را نیز تغییر دهید:

* **مدل مکالمه**: در تابع `startCall` تعریف شده است. می‌توانید از مدل‌های دیگر Gemini مانند `gemini-1.5-pro` استفاده کنید، اما `gemini-2.5-flash` برای این کار بسیار سریع و بهینه است.
    ```typescript
    chat = ai.chats.create({
      model: 'gemini-2.5-flash', // این مدل را می‌توانید تغییر دهید
      // ...
    });
    ```

* **مدل و نوع صدا (TTS)**: در تابع `speakText` تعریف شده است. شما می‌توانید `voiceName` را برای تغییر صدای دستیار عوض کنید. برای مشاهده لیست صداهای موجود، به مستندات Google AI مراجعه کنید. `Charon` یک صدای مردانه باکیفیت برای فارسی است.
    ```typescript
    const stream = await ai.models.generateContentStream({
        model: "gemini-2.5-flash-preview-tts",
        // ...
        speechConfig: {
            voiceConfig: {
                prebuiltVoiceConfig: { voiceName: 'Charon' }, // نام صدا را اینجا تغییر دهید
            },
        },
    });
    ```

موفق باشید!
